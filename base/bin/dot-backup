#!/bin/bash

# Backup current system configs to repo
# This script syncs configurations from the repository to your system

set -e

# Load shared configuration
source "$(dirname "${BASH_SOURCE[0]}")/dot-config"

log "Backing up system configs to $BASE_DIR"

# home folder
log "Backing up home dotfiles..."
cd ~
rsync -av \
  ${HOME_FILES[@]} \
  $BASE_DIR

# config folder
log "Backing up config directories..."
cd ~/.config
rsync -av \
  ${CONFIG_FILES[@]} \
  $BASE_DIR/.config

# bin folder
log "Backing up bin scripts..."
cd ~/bin
rsync -av \
  ${BIN_FILES[@]} \
  $BASE_DIR/bin

success "Backup completed!"
